<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=lhDjYqiy3mZ0x6ROQEUoUw);ul.lst-kix_f6a3sz752l23-2{list-style-type:none}ol.lst-kix_f6a3sz752l23-4.start{counter-reset:lst-ctn-kix_f6a3sz752l23-4 0}.lst-kix_f6a3sz752l23-7>li:before{content:"" counter(lst-ctn-kix_f6a3sz752l23-7,lower-latin) ". "}.lst-kix_f6a3sz752l23-8>li:before{content:"" counter(lst-ctn-kix_f6a3sz752l23-8,lower-roman) ". "}.lst-kix_f6a3sz752l23-3>li:before{content:"" counter(lst-ctn-kix_f6a3sz752l23-3,decimal) ". "}.lst-kix_f6a3sz752l23-5>li{counter-increment:lst-ctn-kix_f6a3sz752l23-5}.lst-kix_f6a3sz752l23-2>li:before{content:"\0025a0   "}.lst-kix_f6a3sz752l23-6>li:before{content:"" counter(lst-ctn-kix_f6a3sz752l23-6,decimal) ". "}ol.lst-kix_f6a3sz752l23-0{list-style-type:none}ol.lst-kix_f6a3sz752l23-1{list-style-type:none}.lst-kix_f6a3sz752l23-5>li:before{content:"" counter(lst-ctn-kix_f6a3sz752l23-5,lower-roman) ". "}ol.lst-kix_f6a3sz752l23-3{list-style-type:none}.lst-kix_f6a3sz752l23-4>li:before{content:"" counter(lst-ctn-kix_f6a3sz752l23-4,lower-latin) ". "}ol.lst-kix_f6a3sz752l23-4{list-style-type:none}ol.lst-kix_f6a3sz752l23-7.start{counter-reset:lst-ctn-kix_f6a3sz752l23-7 0}ol.lst-kix_f6a3sz752l23-5{list-style-type:none}ol.lst-kix_f6a3sz752l23-6{list-style-type:none}ol.lst-kix_f6a3sz752l23-3.start{counter-reset:lst-ctn-kix_f6a3sz752l23-3 0}.lst-kix_f6a3sz752l23-3>li{counter-increment:lst-ctn-kix_f6a3sz752l23-3}ol.lst-kix_f6a3sz752l23-7{list-style-type:none}ol.lst-kix_f6a3sz752l23-8{list-style-type:none}.lst-kix_f6a3sz752l23-6>li{counter-increment:lst-ctn-kix_f6a3sz752l23-6}ol.lst-kix_f6a3sz752l23-5.start{counter-reset:lst-ctn-kix_f6a3sz752l23-5 0}.lst-kix_f6a3sz752l23-1>li:before{content:"" counter(lst-ctn-kix_f6a3sz752l23-1,lower-latin) ". "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_f6a3sz752l23-0>li:before{content:"" counter(lst-ctn-kix_f6a3sz752l23-0,decimal) ". "}.lst-kix_f6a3sz752l23-0>li{counter-increment:lst-ctn-kix_f6a3sz752l23-0}.lst-kix_f6a3sz752l23-8>li{counter-increment:lst-ctn-kix_f6a3sz752l23-8}ol.lst-kix_f6a3sz752l23-0.start{counter-reset:lst-ctn-kix_f6a3sz752l23-0 0}ol.lst-kix_f6a3sz752l23-1.start{counter-reset:lst-ctn-kix_f6a3sz752l23-1 0}ol.lst-kix_f6a3sz752l23-6.start{counter-reset:lst-ctn-kix_f6a3sz752l23-6 0}.lst-kix_f6a3sz752l23-4>li{counter-increment:lst-ctn-kix_f6a3sz752l23-4}ol.lst-kix_f6a3sz752l23-8.start{counter-reset:lst-ctn-kix_f6a3sz752l23-8 0}.lst-kix_f6a3sz752l23-7>li{counter-increment:lst-ctn-kix_f6a3sz752l23-7}.lst-kix_f6a3sz752l23-1>li{counter-increment:lst-ctn-kix_f6a3sz752l23-1}ol{margin:0;padding:0}table td,table th{padding:0}.c32{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#333333;border-left-style:solid;border-bottom-width:0pt;width:376.5pt;border-top-color:#000000;border-bottom-style:solid}.c31{margin-left:36pt;padding-top:12pt;padding-left:0pt;padding-bottom:12pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c37{margin-left:36pt;padding-top:10pt;padding-left:0pt;padding-bottom:12pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c17{margin-left:36pt;padding-top:10pt;padding-left:0pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c24{margin-left:36pt;padding-top:12pt;text-indent:-18pt;padding-bottom:12pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c26{background-color:#ffffff;margin-left:108pt;padding-top:12pt;padding-left:0pt;padding-bottom:12pt;line-height:1.5;orphans:2;widows:2;text-align:left}.c13{margin-left:36pt;padding-top:18pt;padding-left:0pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c21{-webkit-text-decoration-skip:none;color:#000000;font-weight:400;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"Arial";font-style:normal}.c15{margin-left:36pt;padding-top:10pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c4{margin-left:108pt;padding-top:12pt;padding-left:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c1{margin-left:72pt;padding-top:12pt;padding-left:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c3{background-color:#f9f9f9;color:#16191f;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Consolas";font-style:normal}.c50{padding-top:3.8pt;border-top-width:0pt;padding-bottom:12pt;line-height:1.5;border-top-style:solid;background-color:#ffffff;text-align:left}.c10{margin-left:72pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c14{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c25{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Arial";font-style:normal}.c6{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c36{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c28{background-color:#f9f9f9;color:#687078;font-weight:400;font-size:12pt;font-family:"Consolas";font-style:italic}.c7{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c11{background-color:#f9f9f9;font-size:12pt;font-family:"Consolas";color:#794938;font-weight:400}.c8{background-color:#f9f9f9;font-size:12pt;font-family:"Consolas";color:#16191f;font-weight:400}.c12{background-color:#f9f9f9;font-size:12pt;font-family:"Consolas";color:#986801;font-weight:400}.c23{text-decoration-skip-ink:none;font-family:"Consolas";-webkit-text-decoration-skip:none;font-weight:400;text-decoration:underline}.c19{background-color:#f9f9f9;font-family:"Consolas";color:#4078f2;font-weight:400}.c29{margin-left:108pt;padding-left:0pt;orphans:2;widows:2}.c18{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c42{color:#000000;font-weight:400;font-size:26pt;font-family:"Arial"}.c5{background-color:#333333;font-family:"Consolas";color:#ffffff;font-weight:400}.c22{margin-left:71.2pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c39{color:#000000;font-weight:400;font-size:17pt;font-family:"Arial"}.c20{text-decoration:none;vertical-align:baseline;font-size:12pt;font-style:normal}.c33{text-decoration:none;vertical-align:baseline;font-style:normal}.c52{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c38{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;text-decoration:underline}.c2{color:inherit;text-decoration:inherit}.c43{background-color:#f9f9f9;color:#16191f}.c40{width:33%;height:1px}.c46{background-color:#f9f9f9;color:#c18401}.c44{background-color:#f9f9f9;color:#0b6125}.c47{background-color:#f9f9f9;color:#794938}.c41{background-color:#333333;color:#d36363}.c48{background-color:#333333;color:#a2fca2}.c54{orphans:2;widows:2}.c34{font-weight:400;font-family:"Consolas"}.c9{padding:0;margin:0}.c45{background-color:#f9f9f9;color:#1155cc}.c35{height:0pt}.c27{height:11pt}.c30{font-size:12pt}.c16{font-weight:700}.c51{color:#ff0000}.c49{color:#1155cc}.c53{font-size:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:12pt;color:#000000;font-size:17pt;padding-bottom:12pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c52 doc-content"><p class="c36 title" id="h.l6h8kstvlut9"><span class="c33 c42">SageMaker Hosting a Model</span></p><ol class="c9 lst-kix_f6a3sz752l23-0 start" start="1"><li class="c31 li-bullet-0"><h1 id="h.z7lo1cfz2r41" style="display:inline"><span>Create </span><span class="c16">SageMakerInvokeEndPoint</span><span>&nbsp;policy:</span><sup><a href="#ftnt1" id="ftnt_ref1">[1]</a></sup></h1></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">AWS Console &gt; IAM &gt; Policies &gt; Create Policy.</span></li><li class="c1 li-bullet-0"><span class="c0">Service = SageMaker</span></li><li class="c1 li-bullet-0"><span class="c0">Actions = Read</span></li><li class="c1 li-bullet-0"><span class="c0">Resources = All Resources</span></li><li class="c1 li-bullet-0"><span class="c0">Name = &ldquo;SageMakerInvokeEndPoint&rdquo;</span></li><li class="c1 li-bullet-0"><span class="c0">No tags</span></li><li class="c1 li-bullet-0"><span>Create Policy</span></li></ol><ol class="c9 lst-kix_f6a3sz752l23-0" start="2"><li class="c15 li-bullet-0"><h2 id="h.ia0niq8w0a2s" style="display:inline"><span>Create </span><span class="c16">ml_user_predict</span><span>&nbsp;user:</span><sup><a href="#ftnt2" id="ftnt_ref2">[2]</a></sup></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span>AWS Console &gt; IAM &gt; Users &gt; Add User &gt; User name = &ldquo;</span><span class="c0">ml_user_predict&rdquo;</span></li><li class="c1 li-bullet-0"><span class="c0">Access Type = Programmatic Access</span></li><li class="c1 li-bullet-0"><span class="c0">Attach existing policies directly &gt; SageMakerInvokeEndPoint &gt; Check box</span></li><li class="c1 li-bullet-0"><span class="c0">Attach existing policies directly &gt; AmazonS3ReadOnlyAccess &gt; Check box</span></li><li class="c1 li-bullet-0"><span class="c0">No tags.</span></li><li class="c1 li-bullet-0"><span class="c0">Create user</span></li><li class="c1 li-bullet-0"><span class="c0">Download .csv &gt; Open .csv on your local machine using any text editor or IDE.</span></li></ol><ol class="c9 lst-kix_f6a3sz752l23-0" start="3"><li class="c15 li-bullet-0"><h2 id="h.2gtzwfsyb2c1" style="display:inline"><span>Create </span><span class="c16">Notebook Instance</span><span>:</span><sup><a href="#ftnt3" id="ftnt_ref3">[3]</a></sup></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">AWS Console &gt; SageMaker</span></li><li class="c1 li-bullet-0"><span class="c0">Notebook &gt; Notebook Instances &gt; Create Notebook Instance</span></li><li class="c1 li-bullet-0"><span class="c0">Notebook Instance Name = &ldquo;xgboost-hosted-model&rdquo;</span></li><li class="c1 li-bullet-0"><span>Permissions and encryption &gt; IAM Role &gt; Drop down and select </span><span class="c14">Create A New Role</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 481.50px; height: 144.30px;"><img alt="" src="images/image15.png" style="width: 481.50px; height: 144.30px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 406.80px; height: 287.50px;"><img alt="" src="images/image14.png" style="width: 406.80px; height: 287.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="5"><li class="c1 li-bullet-0"><span class="c0">Create role</span></li><li class="c1 li-bullet-0"><span class="c0">Create Notebook Instance</span></li></ol><ol class="c9 lst-kix_f6a3sz752l23-0" start="4"><li class="c15 li-bullet-0"><h2 id="h.2aqg4yqmm8yt" style="display:inline"><span>Create </span><span class="c16">Bucket</span><span>:</span><sup><a href="#ftnt4" id="ftnt_ref4">[4]</a></sup></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">AWS Console &gt; S3 &gt; Buckets &gt; Create Bucket</span></li><li class="c1 li-bullet-0"><span class="c0">Bucket name = &ldquo;xgboost-hosted-model-bucket&rdquo;</span></li><li class="c1 li-bullet-0"><span class="c0">Create Bucket</span></li></ol><ol class="c9 lst-kix_f6a3sz752l23-0" start="5"><li class="c17 li-bullet-0"><h2 id="h.vz0qxw8hhmx0" style="display:inline"><span>Download the </span><span class="c16">Datasets</span><span>&nbsp;needed for cleaning:</span><sup><a href="#ftnt5" id="ftnt_ref5">[5]</a></sup></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">Go to the competition</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span class="c38 c49"><a class="c2" href="https://www.google.com/url?q=https://www.kaggle.com/c/bike-sharing-demand/data&amp;sa=D&amp;source=editors&amp;ust=1687910346302521&amp;usg=AOvVaw2NnfRgQ6UXOYxAUAxe76Ma">https://www.kaggle.com/c/bike-sharing-demand/data</a></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="2"><li class="c1 li-bullet-0"><span class="c0">Login &gt; Rules &gt; Accept Competition</span></li><li class="c1 li-bullet-0"><span class="c0">Data &gt; Download All</span></li></ol><ol class="c9 lst-kix_f6a3sz752l23-0" start="6"><li class="c17 li-bullet-0"><h2 id="h.bptz8ivexl6b" style="display:inline"><span>Upload the </span><span class="c16">Datasets </span><span class="c6">needed for cleaning:</span></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">Unzip the two datasets onto your local machine:</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span class="c0">You should see both a test.csv and train.csv</span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="2"><li class="c1 li-bullet-0"><span class="c0">AWS Console &gt; Amazon SageMaker &gt; Notebook &gt; Notebook Instances</span></li><li class="c1 li-bullet-0"><span class="c0">Click &ldquo;Open Jupyter&rdquo; for the &ldquo;xgboost-hosted-model&rdquo; instance</span></li><li class="c1 li-bullet-0"><span class="c0">Upload the two files test.csv and train.csv</span></li><li class="c1 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 458.50px; height: 94.79px;"><img alt="" src="images/image16.png" style="width: 458.50px; height: 94.79px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c9 lst-kix_f6a3sz752l23-0" start="7"><li class="c17 li-bullet-0"><h2 id="h.e3mrjyrq5c8c" style="display:inline"><span>Clean </span><span class="c16">Datasets</span><span>&nbsp;needed to train the model:</span><sup><a href="#ftnt6" id="ftnt_ref6">[6]</a></sup></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">AWS Console &gt; Amazon SageMaker &gt; Notebook &gt; Notebook Instances</span></li><li class="c1 li-bullet-0"><span class="c0">Click &ldquo;Open Jupyter&rdquo; for the &ldquo;xgboost-hosted-model&rdquo; instance</span></li><li class="c1 li-bullet-0"><span>Upload the </span><span class="c16">bikerental_data_preparation_rev1.ipynb</span><span class="c0">&nbsp;notebook</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span class="c0">Udemy course resource directory:<br>/AmazonSageMakerCourse-master/xgboost/BikeSharingRegression/bikerental_data_preparation_rev1.ipynb</span></li><li class="c4 li-bullet-0"><span class="c38 c49"><a class="c2" href="https://www.google.com/url?q=https://drive.google.com/uc?export%3Ddownload%26id%3D1dWi8sW9mgPQWeNJSS8MqRi250TsFHM8h&amp;sa=D&amp;source=editors&amp;ust=1687910346304169&amp;usg=AOvVaw2JXr451x7V_884vV9qL4s7">Google Drive Link to notebook</a></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="4"><li class="c1 li-bullet-0"><span class="c0">Open the notebook</span></li><li class="c1 li-bullet-0"><span class="c0">Cell &nbsp;&gt; Run All</span></li><li class="c1 li-bullet-0"><span class="c0">Close the notebook tab</span></li></ol><ol class="c9 lst-kix_f6a3sz752l23-0" start="8"><li class="c17 li-bullet-0"><h2 id="h.74rua8k5u43d" style="display:inline"><span>Train </span><span class="c16">XGBoost Model </span><span>&amp;</span><span>&nbsp;create </span><span class="c16">Endpoint Configuration</span><span>:</span><sup><a href="#ftnt7" id="ftnt_ref7">[7]</a></sup></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">AWS Console &gt; Amazon SageMaker &gt; Notebook &gt; Notebook Instances</span></li><li class="c1 li-bullet-0"><span class="c0">Click &ldquo;Open Jupyter&rdquo; for the &ldquo;xgboost-hosted-model&rdquo; instance</span></li><li class="c1 li-bullet-0"><span>Upload the </span><span class="c16">xgboost_cloud_training_template.ipynb</span><span class="c0">&nbsp;notebook</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span class="c0">From the Udemy course, confirm that this is NOT the iris classification notebook of the same name.</span></li><li class="c4 li-bullet-0"><span class="c0">Udemy course resource directory:<br>/AmazonSageMakerCourse-master/xgboost/BikeSharingRegression/sdk1.7/xgboost_cloud_training_template.ipynb</span></li><li class="c4 li-bullet-0"><span class="c38 c49"><a class="c2" href="https://www.google.com/url?q=https://drive.google.com/uc?export%3Ddownload%26id%3D1Zi-a1WG2z0ajvtmHjS8bDubsx7P54IhW&amp;sa=D&amp;source=editors&amp;ust=1687910346305290&amp;usg=AOvVaw2eEN5Z7x9IVrCSQkNQfTKF">Google Drive Link to notebook</a></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="4"><li class="c1 li-bullet-0"><span class="c0">Open the notebook</span></li><li class="c1 li-bullet-0"><span class="c0">Cell &gt; Run All</span></li><li class="c1 li-bullet-0"><span class="c0">Close the notebook tab</span></li><li class="c1 li-bullet-0"><span class="c38 c16">NOTE</span><span class="c0">:</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span class="c0">If you run this notebook more than once, this cell:</span></li><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 416.00px; height: 57.00px;"><img alt="" src="images/image12.png" style="width: 624.00px; height: 57.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c4 li-bullet-0"><span class="c0">Will give the error:</span></li><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 537.50px; height: 41.35px;"><img alt="" src="images/image17.png" style="width: 537.50px; height: 41.35px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c4 li-bullet-0"><span class="c0">This is because you&rsquo;ve already made the Endpoint Configuration, even though the Endpoint itself isn&rsquo;t yet running. To see this go to: AWS Console &gt; Amazon SageMaker &gt; Inference &gt; Endpoint Configuration</span></li><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 459.50px; height: 139.18px;"><img alt="" src="images/image7.png" style="width: 459.50px; height: 139.18px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c4 li-bullet-0"><span class="c0">To actually run the endpoint, you need to create a new endpoint using that configuration. To do this go to: AWS Console &gt; Amazon SageMaker &gt; Inference &gt; Endpoints.</span></li><li class="c4 li-bullet-0"><span class="c0">Create Endpoint &gt; Endpoint name = &ldquo;xgboost-bikerental-v1&rdquo; (Or, I use the convention of the same name as the endpoint configuration.)</span></li><li class="c4 li-bullet-0"><span class="c0">Use An Existing Configuration</span></li><li class="c4 li-bullet-0"><span class="c0">Check the box to the &ldquo;xgboost-bikerental-v1&rdquo; configuration &gt; Select endpoint configuration&rdquo;</span></li><li class="c4 li-bullet-0"><span class="c0">Create Endpoint</span></li><li class="c4 li-bullet-0"><span class="c0">Never run that cell again. You can now delete the cell. Continue running the remainder of the notebook or just don&rsquo;t run this notebook again. It&rsquo;s served its purpose.</span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-0" start="9"><li class="c13 li-bullet-0"><h2 id="h.tf29gbepu4jb" style="display:inline"><span>Examine your </span><span class="c16">Endpoint, </span><span class="c6">once the previous step is complete:</span></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">AWS Console &gt; Amazon SageMaker &gt; Inference &gt; Endpoints</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 505.27px; height: 96.36px;"><img alt="" src="images/image5.png" style="width: 505.27px; height: 96.36px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="2"><li class="c1 li-bullet-0"><span class="c0">Leave the endpoint running for now but delete it when you&rsquo;re done with this project (which is the final step of this tutorial).</span></li></ol><ol class="c9 lst-kix_f6a3sz752l23-0" start="10"><li class="c17 li-bullet-0"><h2 id="h.293rlvok5z47" style="display:inline"><span>Make predictions on the </span><span class="c16">XGBoost Model</span><span>:</span><sup><a href="#ftnt8" id="ftnt_ref8">[8]</a></sup></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c10 li-bullet-0"><span class="c16 c38">NOTE</span><span class="c0">&nbsp;- You don&rsquo;t actually need to run this step to make a hosted model but it&rsquo;s useful to know how to hit a deployed endpoint using a notebook.</span></li><li class="c1 li-bullet-0"><span class="c0">AWS Console &gt; Amazon SageMaker &gt; Notebook &gt; Notebook Instances</span></li><li class="c1 li-bullet-0"><span class="c0">Click &ldquo;Open Jupyter&rdquo; for the &ldquo;xgboost-hosted-model&rdquo; instance</span></li><li class="c1 li-bullet-0"><span>Upload the </span><span class="c16">xgboost_cloud_prediction_template.ipynb</span><span class="c0">&nbsp;notebook</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span class="c0">From the Udemy course, confirm that this is NOT the iris classification notebook of the same name.</span></li><li class="c4 li-bullet-0"><span class="c0">Udemy course resource directory:<br>/AmazonSageMakerCourse-master/xgboost/BikeSharingRegression/sdk1.7/xgboost_cloud_prediction_template.ipynb</span></li><li class="c4 li-bullet-0"><span class="c38 c49"><a class="c2" href="https://www.google.com/url?q=https://drive.google.com/uc?export%3Ddownload%26id%3D1CidwRC4Nh5h5TVOqBjLO3uTYQKHKJ6jk&amp;sa=D&amp;source=editors&amp;ust=1687910346308123&amp;usg=AOvVaw2N-PjmlL0IgJpUMXdaBlNM">Google Drive Link to notebook</a></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="5"><li class="c1 li-bullet-0"><span class="c0">Open the notebook tab</span></li><li class="c1 li-bullet-0"><span class="c0">Cell &gt; Run All</span></li><li class="c1 li-bullet-0"><span class="c0">Close the notebook tab</span></li></ol><ol class="c9 lst-kix_f6a3sz752l23-0" start="11"><li class="c15 li-bullet-0"><h2 id="h.yz02vkxdv9ms" style="display:inline"><span>Create an IAM role for your </span><span class="c16">Lambda function</span><span>:</span><sup><a href="#ftnt9" id="ftnt_ref9">[9]</a></sup></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">AWS Console &gt; IAM &gt; Roles &gt; Create Role.</span></li><li class="c1 li-bullet-0"><span class="c0">AWS Service &gt; Lambda &gt; Next.</span></li><li class="c1 li-bullet-0"><span class="c0">Assign the permission &ldquo;SageMakerInvokeEndPoint&rdquo; &gt; Check the box</span></li><li class="c1 li-bullet-0"><span class="c0">Assign the permission &ldquo;AWSLambdaBasicExecutionRole&rdquo; &gt; Check the box.</span></li><li class="c1 li-bullet-0"><span class="c0">Role name = &ldquo;lambda_sagemaker_invoke_endpoint&rdquo;</span></li></ol><ol class="c9 lst-kix_f6a3sz752l23-0" start="12"><li class="c15 li-bullet-0"><h2 id="h.pj4ryxnuv1mz" style="display:inline"><span>Create a </span><span class="c16">Lambda function</span><span>:</span><sup><a href="#ftnt10" id="ftnt_ref10">[10]</a></sup></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">AWS Console &gt; Lambda &gt; Create Function</span></li><li class="c1 li-bullet-0"><span class="c0">Author From Scratch</span></li><li class="c1 li-bullet-0"><span class="c0">Function name = &ldquo;bikerental_prediction&rdquo;</span></li><li class="c1 li-bullet-0"><span class="c0">Runtime = Python3.9 (or latest supported)</span></li><li class="c1 li-bullet-0"><span>Change default execution role &gt; Use existing role &gt; </span><span class="c21">lambda_sagemaker_invoke_endpoint</span></li><li class="c1 li-bullet-0"><span class="c0">Create function</span></li><li class="c1 li-bullet-0"><span class="c0">Scroll down &gt; Copy and paste the from this file:</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span class="c38 c49"><a class="c2" href="https://www.google.com/url?q=https://drive.google.com/uc?export%3Ddownload%26id%3D12jkODI0HFnhYxC3TJc7_PdvUe8vTf7cT&amp;sa=D&amp;source=editors&amp;ust=1687910346309910&amp;usg=AOvVaw34VCL7wU_59vrrM00Pb4mf">Google Drive Link to Code</a></span></li><li class="c4 li-bullet-0"><span class="c0">Should look like this:</span></li><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 496.05px; height: 285.39px;"><img alt="" src="images/image9.png" style="width: 496.05px; height: 285.39px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="8"><li class="c1 li-bullet-0"><span class="c0">Configuration tab &gt; Environment Variables &gt; Edit &gt; Add Environment Variable</span></li><li class="c1 li-bullet-0"><span class="c0">Key = &ldquo;ENDPOINT_NAME&rdquo;</span></li><li class="c1 li-bullet-0"><span class="c0">Value = &ldquo;xgboost-bikerental-v1&rdquo;</span></li><li class="c1 li-bullet-0"><span class="c0">Save</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span class="c0">Should look like this:</span></li><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 504.50px; height: 145.53px;"><img alt="" src="images/image6.png" style="width: 504.50px; height: 145.53px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="12"><li class="c1 li-bullet-0"><span>Click </span><span class="c16">DEPLOY</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 497.50px; height: 104.44px;"><img alt="" src="images/image11.png" style="width: 497.50px; height: 104.44px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 321.50px; height: 46.56px;"><img alt="" src="images/image4.png" style="width: 321.50px; height: 46.56px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="13"><li class="c1 c27 li-bullet-0"><span class="c0"></span></li></ol><ol class="c9 lst-kix_f6a3sz752l23-0" start="13"><li class="c15 li-bullet-0"><h2 id="h.mre4d6njc7sk" style="display:inline"><span>Create an </span><span class="c16">API Gateway</span><span>&nbsp;to the endpoint:</span><sup><a href="#ftnt11" id="ftnt_ref11">[11]</a></sup></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">AWS Console &gt; API &gt; APIs &gt; &ldquo;Create API&rdquo;</span></li><li class="c1 li-bullet-0"><span class="c0">Locate &ldquo;Rest API&rdquo; &gt; Build</span></li><li class="c1 li-bullet-0"><span class="c0">Click REST (non private)</span></li><li class="c1 li-bullet-0"><span class="c0">Click New API</span></li><li class="c1 li-bullet-0"><span class="c0">API name = &ldquo;BikeRentalPrediction&rdquo;</span></li><li class="c1 li-bullet-0"><span class="c0">Create API</span></li><li class="c1 li-bullet-0"><span class="c0">Drop down &ldquo;Actions&rdquo; &gt; Create Method &gt; POST</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span class="c0">Should look like this:</span></li><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 503.00px; height: 107.00px;"><img alt="" src="images/image8.png" style="width: 624.00px; height: 107.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="8"><li class="c1 li-bullet-0"><span class="c0">Integration Type = Lambda Function</span></li><li class="c1 li-bullet-0"><span class="c0">Lambda Function = &ldquo;bikerental_prediction&rdquo; (From above)</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span class="c0">Add permission</span></li><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 491.50px; height: 136.27px;"><img alt="" src="images/image3.png" style="width: 491.50px; height: 136.27px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-0" start="14"><li class="c15 li-bullet-0"><h2 id="h.cpcha3z1rdp1" style="display:inline"><span class="c6">Deploy the API Gateway:</span></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">Continuing from steps above,</span></li><li class="c1 li-bullet-0"><span class="c0">Drop down &ldquo;Actions&rdquo; &gt; Deploy API</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span class="c0">Should look like this:</span></li><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 352.50px; height: 319.17px;"><img alt="" src="images/image1.png" style="width: 352.50px; height: 319.17px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="3"><li class="c1 li-bullet-0"><span class="c0">Deployment Stage &gt; New Stage</span></li><li class="c1 li-bullet-0"><span class="c0">Stage name = &ldquo;beta&rdquo;</span></li><li class="c1 li-bullet-0"><span class="c0">Deploy</span></li><li class="c1 li-bullet-0"><span class="c0">Invoke URL is the url we need for testing</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 515.50px; height: 69.39px;"><img alt="" src="images/image10.png" style="width: 515.50px; height: 69.39px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-0" start="15"><li class="c15 li-bullet-0"><h2 id="h.e1ljwmdorq53" style="display:inline"><span class="c6">Test on Postman</span></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">URL = the url from the step above</span></li><li class="c1 li-bullet-0"><span class="c0">POST</span></li><li class="c1 li-bullet-0"><span class="c0">Body &gt; Raw</span></li><li class="c1 li-bullet-0"><span class="c0">Copy and paste the code below into the body</span></li></ol><a id="t.f484859ae8098164f21c2ed024f4ef0b049cf9a1"></a><a id="t.0"></a><table class="c22"><tr class="c35"><td class="c32" colspan="1" rowspan="1"><p class="c18"><span class="c5">{<br> &nbsp; &nbsp; &quot;instances&quot;: [<br> &nbsp; &nbsp; &nbsp; &nbsp; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;features&quot;: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c34 c48">&quot;2012-12-19 17:00:00&quot;</span><span class="c5">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c34 c41">4</span><span class="c5">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c41 c34">0</span><span class="c5">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c41 c34">1</span><span class="c5">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c41 c34">1</span><span class="c5">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c41 c34">16.4</span><span class="c5">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c41 c34">20.455</span><span class="c5">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c41 c34">50</span><span class="c5">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c41 c34">26.0027<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c5">]<br> &nbsp; &nbsp; &nbsp; &nbsp; }<br> &nbsp; &nbsp;]<br>}</span></p></td></tr></table><ol class="c9 lst-kix_f6a3sz752l23-1" start="5"><li class="c1 li-bullet-0"><span class="c0">Send</span></li><li class="c1 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 506.60px; height: 239.50px;"><img alt="" src="images/image13.png" style="width: 506.60px; height: 239.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c9 lst-kix_f6a3sz752l23-0" start="16"><li class="c15 li-bullet-0"><h2 id="h.grzuxe8rqj8b" style="display:inline"><span class="c16">DELETE THE ENDPOINT </span><span class="c6">to prevent charges</span></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">AWS Console &gt; Amazon SageMaker &gt; Inference &gt; Endpoints</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 505.27px; height: 96.36px;"><img alt="" src="images/image5.png" style="width: 505.27px; height: 96.36px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="2"><li class="c1 li-bullet-0"><span class="c0">Check the box on the right &gt; Drop down Actions &gt; Delete &gt; Confirm delete</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 508.50px; height: 114.31px;"><img alt="" src="images/image2.png" style="width: 508.50px; height: 114.31px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-0" start="17"><li class="c37 li-bullet-0"><h2 id="h.p93yqq1opscf" style="display:inline"><span class="c16">Recreate</span><span class="c6">&nbsp;the endpoint for the future</span></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c1 li-bullet-0"><span class="c0">AWS Console &gt; Amazon SageMaker &gt; Inference &gt; Endpoints</span></li><li class="c1 li-bullet-0"><span class="c0">Create endpoint</span></li><li class="c1 li-bullet-0"><span class="c0">To actually run the endpoint, you need to create a new endpoint using that configuration. To do this go to: AWS Console &gt; Amazon SageMaker &gt; Inference &gt; Endpoints.</span></li><li class="c1 li-bullet-0"><span class="c0">Create Endpoint &gt; Endpoint name = &ldquo;xgboost-bikerental-v1&rdquo; (Or, I use the convention of the same name as the endpoint configuration.)</span></li><li class="c1 li-bullet-0"><span class="c0">Use An Existing Configuration</span></li><li class="c1 li-bullet-0"><span class="c0">Check the box to the &ldquo;xgboost-bikerental-v1&rdquo; configuration &gt; Select endpoint configuration&rdquo;</span></li><li class="c1 li-bullet-0"><span class="c0">Create Endpoint</span></li><li class="c1 li-bullet-0"><span class="c16 c51">NOTE!!! </span><span class="c0">:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c4 li-bullet-0"><span>Don&rsquo;t forget to </span><span class="c38 c16">delete</span><span class="c0">&nbsp;the endpoint when you&rsquo;re done!</span></li></ul><h1 class="c24" id="h.pxnv2pvxnz3a"><span class="c33 c39">Adding Dependencies (Libraries) To Your Endpoint</span></h1><ol class="c9 lst-kix_f6a3sz752l23-0" start="18"><li class="c13 li-bullet-0"><h2 id="h.a0uik1orfefd" style="display:inline"><span>Adding Dependencies to your Lambda Function</span><sup><a href="#ftnt12" id="ftnt_ref12">[12]</a></sup><span class="c6">:</span></h2></li></ol><ol class="c9 lst-kix_f6a3sz752l23-1 start" start="1"><li class="c10 li-bullet-0"><span>In order to add dependencies to your lambda function (you know, the thing at the top of your python code where you write &ldquo;import requests&rdquo;) you&rsquo;ll need to upload a zip file into your lambda </span><span class="c38 c16">which could reset all your code</span><span class="c0">&nbsp;if you don&rsquo;t copy your existing code when explained below.</span></li><li class="c10 li-bullet-0"><span>Open a command prompt and create a </span><span class="c34">my-sourcecode-function</span><span class="c0">&nbsp;project directory. For example, on macOS:</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c26 li-bullet-0"><span class="c11">mkdir</span><span class="c8">&nbsp;</span><span class="c11">my</span><span class="c3">-sourcecode-function</span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="3"><li class="c10 li-bullet-0"><span>Navigate to the </span><span class="c34">my-sourcecode-function</span><span class="c0">&nbsp;project directory.</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c29 c50 li-bullet-0"><span class="c34 c30 c46">cd</span><span class="c8">&nbsp;my-sourcecode-</span><span class="c11 c33">function</span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="4"><li class="c10 li-bullet-0"><span>Copy the contents of the following sample Python code and save it in a new file named </span><span class="c23">lambda_function.py</span><span class="c0">&nbsp;or copy your existing lambda_function.py code:</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c29 c18 li-bullet-0"><span class="c34 c47">import</span><span class="c34 c43">&nbsp;requests<br>def </span><span class="c19">lambda_handler</span><span class="c43 c34">(event, context):<br> &nbsp; &nbsp;response = requests.</span><span class="c46 c34">get</span><span class="c43 c34">(</span><span class="c34 c44">&quot;</span><span class="c23 c45"><a class="c2" href="https://www.google.com/url?q=https://www.example.com/&amp;sa=D&amp;source=editors&amp;ust=1687910346318323&amp;usg=AOvVaw1i8roIfZBzbq_GdCMpBSr4">https://www.example.com/</a></span><span class="c44 c34">&quot;</span><span class="c43 c34">)<br> &nbsp; &nbsp;</span><span class="c46 c34">print</span><span class="c43 c34">(response.text)<br> &nbsp; &nbsp;</span><span class="c47 c34">return</span><span class="c33 c43 c34 c53">&nbsp;response.text</span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="5"><li class="c10 li-bullet-0"><span class="c0">Your directory structure should look like this:</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c29 c18 li-bullet-0"><span class="c8">my-sourcecode-</span><span class="c11">function</span><span class="c8">$<br>| lambda_function.</span><span class="c11 c33">py</span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="6"><li class="c10 li-bullet-0"><span class="c0">Install the requests library to a new package directory.</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c29 c18 li-bullet-0"><span class="c8">pip install --</span><span class="c11">target</span><span class="c8">&nbsp;./</span><span class="c11">package</span><span class="c3">&nbsp;requests</span></li><li class="c29 c18 li-bullet-0"><span class="c8">pip install --</span><span class="c11">target</span><span class="c8">&nbsp;./</span><span class="c11">package</span><span class="c3">&nbsp;pandas</span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="7"><li class="c10 li-bullet-0"><span class="c0">Create a deployment package with the installed library at the root.</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c29 c18 li-bullet-0"><span class="c8">cd </span><span class="c11">package</span><span class="c8"><br></span><span class="c19 c30">zip -r ../my-deployment-</span><span class="c11">package</span><span class="c19 c20">.zip .</span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="8"><li class="c10 li-bullet-0"><span>This generates a </span><span class="c34">my-deployment-package.zip</span><span class="c0">&nbsp;file in your project directory. The command produces the following output:</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c29 c18 li-bullet-0"><span class="c8">adding: chardet/ (stored </span><span class="c12">0</span><span class="c28">%)</span><span class="c8"><br></span><span class="c8">adding: chardet/enums.py (deflated </span><span class="c12">58</span><span class="c28">%)</span><span class="c8"><br></span><span class="c3">...</span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="9"><li class="c10 li-bullet-0"><span>Add the l</span><span class="c34">ambda_function.py</span><span class="c0">&nbsp;file to the root of the zip file.</span></li></ol><ul class="c9 lst-kix_f6a3sz752l23-2 start"><li class="c18 c29 li-bullet-0"><span class="c11">cd</span><span class="c8">&nbsp;..<br></span><span class="c11">zip</span><span class="c8">&nbsp;-</span><span class="c11">g</span><span class="c8">&nbsp;my-deployment-package.</span><span class="c11">zip</span><span class="c3">&nbsp;lambda_function.py</span></li></ul><ol class="c9 lst-kix_f6a3sz752l23-1" start="10"><li class="c10 li-bullet-0"><span>Upload the zip file to the lambda function</span></li></ol><p class="c18 c27 c54"><span class="c0"></span></p><hr class="c40"><div><p class="c7"><a href="#ftnt_ref1" id="ftnt1">[1]</a><span class="c25">&nbsp;Section 1: 9. Lab - Configure IAM Users, Setup Command Line Interface (CLI)</span></p></div><div><p class="c7"><a href="#ftnt_ref2" id="ftnt2">[2]</a><span class="c25">&nbsp;Section 1: 9. Lab - Configure IAM Users, Setup Command Line Interface (CLI)</span></p></div><div><p class="c7"><a href="#ftnt_ref3" id="ftnt3">[3]</a><span class="c25">&nbsp;Section 2: 16. Lab - S3 Bucket Setup</span></p></div><div><p class="c7"><a href="#ftnt_ref4" id="ftnt4">[4]</a><span class="c25">&nbsp;Section 2: 16. Lab - S3 Bucket Setup</span></p></div><div><p class="c7"><a href="#ftnt_ref5" id="ftnt5">[5]</a><span class="c25">&nbsp;Section 7: 61. Lab - Data Preparation Bike Rental Regression</span></p></div><div><p class="c7"><a href="#ftnt_ref6" id="ftnt6">[6]</a><span class="c25">&nbsp;Section 7: 61. Lab - Data Preparation Bike Rental Regression</span></p></div><div><p class="c7"><a href="#ftnt_ref7" id="ftnt7">[7]</a><span class="c25">&nbsp;Section 7: 65. Lab - How to train using SageMaker&rsquo;s built-in XGBoost Algorithm</span></p></div><div><p class="c7"><a href="#ftnt_ref8" id="ftnt8">[8]</a><span class="c25">&nbsp;Section 7: 67. Lab - How to run predictions against an existing endpoint</span></p></div><div><p class="c7"><a href="#ftnt_ref9" id="ftnt9">[9]</a><span class="c25">&nbsp;Section 8: 85. Lab - Microservice - Lambda to Endpoint</span></p></div><div><p class="c7"><a href="#ftnt_ref10" id="ftnt10">[10]</a><span class="c25">&nbsp;Section 8: 85. Lab - Microservice - Lambda to Endpoint</span></p></div><div><p class="c7"><a href="#ftnt_ref11" id="ftnt11">[11]</a><span class="c25">&nbsp;Section 8: 87. Lab - API Gateway, Lambda, Endpoint</span></p></div><div><p class="c7"><a href="#ftnt_ref12" id="ftnt12">[12]</a><span class="c25">&nbsp;https://docs.aws.amazon.com/lambda/latest/dg/python-package.html</span></p></div></body></html>